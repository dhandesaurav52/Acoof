(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[147],{18844:(e,t,a)=>{Promise.resolve().then(a.bind(a,52693))},22346:(e,t,a)=>{"use strict";a.d(t,{w:()=>n});var s=a(95155),r=a(12115),l=a(87489),i=a(59434);let n=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:n=!0,...o}=e;return(0,s.jsx)(l.b,{ref:t,decorative:n,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...o})});n.displayName=l.b.displayName},26126:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var s=a(95155);a(12115);var r=a(74466),l=a(59434);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(i({variant:a}),t),...r})}},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>o});var s=a(95155),r=a(12115),l=a(66634),i=a(74466),n=a(59434);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:d=!1,...c}=e,u=d?l.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(o({variant:r,size:i,className:a})),ref:t,...c})});d.displayName="Button"},52693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var s=a(95155),r=a(12115),l=a(98030),i=a(87374),n=a(85081),o=a(8376),d=a(24371),c=a(15300),u=a(50172),m=a(11133),f=a(75074),p=a(66695),h=a(85127),x=a(59409),g=a(26126),y=a(56104),j=a(81115),b=a(37250),N=a(79556),v=a(59434);let w=b.bL,C=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(b.q7,{ref:t,className:(0,v.cn)("border-b",a),...r})});C.displayName="AccordionItem";let k=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsx)(b.Y9,{className:"flex",children:(0,s.jsxs)(b.l9,{ref:t,className:(0,v.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...l,children:[r,(0,s.jsx)(N.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});k.displayName=b.l9.displayName;let O=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsx)(b.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,s.jsx)("div",{className:(0,v.cn)("pb-4 pt-0",a),children:r})})});O.displayName=b.UC.displayName;var R=a(62523),S=a(30285),E=a(66766),A=a(62640),F=a(54165),P=a(91091),z=a(22346);function L(){var e,t;let{user:a,loading:b}=(0,l.A)(),{products:N,loading:v}=(0,A.Q)(),[L,I]=(0,r.useState)([]),[D,T]=(0,r.useState)(!0),[B,U]=(0,r.useState)(null),[X,Z]=(0,r.useState)(""),[M,_]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!b){if(!a||"admin@example.com"!==a.email)return void T(!1);e()}async function e(){if(!y.OO){U("Firebase is not configured correctly."),T(!1);return}let e=(0,j.KR)(y.OO,"orders");try{let t=await (0,j.Jt)(e);if(t.exists()){let e=t.val(),a=Object.keys(e).map(t=>({id:t,...e[t]})).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());I(a)}else I([]);U(null)}catch(e){var t;console.error("Firebase read failed: ",e),"PERMISSION_DENIED"===e.code||(null==(t=e.message)?void 0:t.includes("permission_denied"))?U("Permission Denied: Could not fetch orders. Please check that your Firebase Database rules grant read access to the '/orders' path for the admin email."):U("An error occurred while fetching orders data.")}finally{T(!1)}}},[a,b]);let K=(0,r.useMemo)(()=>{if(!X)return L;let e=X.toLowerCase();return L.filter(t=>t.id.toLowerCase().includes(e)||t.user.toLowerCase().includes(e)||t.userEmail.toLowerCase().includes(e))},[L,X]),W=async(e,t)=>{if(!y.OO)return;let a=(0,j.KR)(y.OO,"orders/".concat(e));try{await (0,j.yo)(a,{status:t}),I(a=>a.map(a=>a.id===e?{...a,status:t}:a))}catch(e){if("PERMISSION_DENIED"===e.code&&!(null===y.j2||void 0===y.j2?void 0:y.j2.currentUser))return void console.warn("Order update permission denied, user may have logged out.");console.error("Failed to update order status:",e)}};return b||D||v?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:(0,s.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-8",children:[(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tighter font-headline",children:"Manage Orders"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"View, search, and update the status of all customer orders."})]}),B?(0,s.jsxs)(p.Zp,{className:"border-destructive",children:[(0,s.jsx)(p.aR,{children:(0,s.jsxs)(p.ZB,{className:"flex items-center gap-2 text-destructive",children:[(0,s.jsx)(m.A,{className:"h-6 w-6"}),"Data Fetching Error"]})}),(0,s.jsx)(p.Wu,{children:(0,s.jsx)("p",{className:"text-destructive",children:B})})]}):(0,s.jsxs)(p.Zp,{children:[(0,s.jsxs)(p.aR,{children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(p.ZB,{children:["All Orders (",K.length,")"]}),(0,s.jsx)(p.BT,{children:"A list of all orders placed in your store."})]})}),(0,s.jsxs)("div",{className:"relative mt-4",children:[(0,s.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,s.jsx)(R.p,{placeholder:"Search by Order ID, Name, or Email...",className:"pl-10",value:X,onChange:e=>Z(e.target.value)})]})]}),(0,s.jsx)(p.Wu,{children:(0,s.jsx)("div",{className:"border rounded-lg overflow-hidden",children:K.length>0?(0,s.jsx)(w,{type:"single",collapsible:!0,className:"w-full",children:K.map(e=>(0,s.jsxs)(C,{value:e.id,className:"last:border-b-0",children:[(0,s.jsx)(k,{className:"px-4 sm:px-6 py-4 hover:bg-muted/50 transition-colors text-left",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 w-full",children:[(0,s.jsx)("div",{className:"hidden sm:block",children:(e=>{switch(e){case"Pending":return(0,s.jsx)(i.A,{className:"h-5 w-5 text-yellow-500"});case"Shipped":return(0,s.jsx)(n.A,{className:"h-5 w-5 text-blue-500"});case"Delivered":return(0,s.jsx)(o.A,{className:"h-5 w-5 text-green-500"});case"Cancelled":return(0,s.jsx)(d.A,{className:"h-5 w-5 text-red-500"});default:return(0,s.jsx)(c.A,{className:"h-5 w-5 text-muted-foreground"})}})(e.status)}),(0,s.jsxs)("div",{className:"flex-1 grid grid-cols-2 sm:grid-cols-4 gap-2 items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-semibold truncate max-w-24 sm:max-w-full",title:e.id,children:e.id}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.date})]}),(0,s.jsxs)("div",{className:"hidden sm:block",children:[(0,s.jsx)("div",{className:"font-medium",children:e.user}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground truncate",children:e.userEmail})]}),(0,s.jsx)("div",{className:"col-span-1 flex justify-end sm:justify-start",children:(0,s.jsx)(g.E,{variant:"Pending"===e.status?"destructive":"Shipped"===e.status?"default":"Delivered"===e.status?"secondary":"outline",className:"w-24 justify-center",children:e.status})}),(0,s.jsxs)("div",{className:"hidden sm:block text-right font-medium text-lg",children:["₹",e.total.toFixed(2)]})]})]})}),(0,s.jsx)(O,{className:"bg-secondary/20",children:(0,s.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-semibold mb-2",children:["Order Items (",e.items.length,")"]}),(0,s.jsxs)(h.XI,{children:[(0,s.jsx)(h.A0,{children:(0,s.jsxs)(h.Hj,{children:[(0,s.jsx)(h.nd,{children:"Product"}),(0,s.jsx)(h.nd,{children:"Size"}),(0,s.jsx)(h.nd,{className:"text-center",children:"Qty"}),(0,s.jsx)(h.nd,{className:"text-right",children:"Subtotal"})]})}),(0,s.jsx)(h.BF,{children:e.items.map((e,t)=>(0,s.jsxs)(h.Hj,{children:[(0,s.jsx)(h.nA,{children:(0,s.jsxs)("button",{className:"flex items-center gap-2 hover:underline text-left",onClick:()=>(e=>{let t=N.find(t=>t.id===e);t&&_(t)})(e.productId),children:[e.imageUrl&&(0,s.jsx)(E.default,{src:e.imageUrl,alt:e.productName,width:40,height:50,className:"rounded-md object-cover"}),(0,s.jsxs)("span",{children:[e.productName,e.color&&" (".concat(e.color,")")]})]})}),(0,s.jsx)(h.nA,{children:e.size||"-"}),(0,s.jsx)(h.nA,{className:"text-center",children:e.quantity}),(0,s.jsxs)(h.nA,{className:"text-right",children:["₹",(e.price*e.quantity).toFixed(2)]})]},t))})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-1",children:"Shipping & Payment"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.shippingAddress}),(0,s.jsxs)("p",{className:"text-sm mt-1",children:["Payment Method: ",(0,s.jsx)("span",{className:"font-medium",children:e.paymentMethod})]})]}),"Cancelled"===e.status&&e.cancellationReason&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-1",children:"Reason for Cancellation/Return"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-md border",children:e.cancellationReason})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Actions"}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)(x.l6,{value:e.status,onValueChange:t=>W(e.id,t),children:[(0,s.jsx)(x.bq,{className:"w-full",children:(0,s.jsx)(x.yv,{placeholder:"Update Status"})}),(0,s.jsxs)(x.gC,{children:[(0,s.jsx)(x.eb,{value:"Pending",children:"Pending"}),(0,s.jsx)(x.eb,{value:"Shipped",children:"Shipped"}),(0,s.jsx)(x.eb,{value:"Delivered",children:"Delivered"}),(0,s.jsx)(x.eb,{value:"Cancelled",children:"Cancelled"})]})]})})]})]})]})})]},e.id))}):(0,s.jsxs)("div",{className:"text-center h-48 flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(i.A,{className:"h-10 w-10 text-muted-foreground"}),(0,s.jsx)("p",{className:"font-semibold",children:L.length>0?"No orders match your search.":"No orders found."}),L.length>0&&(0,s.jsx)(S.$,{variant:"outline",onClick:()=>Z(""),children:"Clear Search"})]})})})]})]}),(0,s.jsx)(F.lG,{open:!!M,onOpenChange:e=>!e&&_(null),children:M&&(0,s.jsxs)(F.Cf,{className:"sm:max-w-3xl",children:[(0,s.jsxs)(F.c7,{children:[(0,s.jsx)(F.L3,{children:M.name}),(0,s.jsx)(F.rr,{children:M.category})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 py-4",children:[(0,s.jsxs)(P.FN,{className:"w-full group",children:[(0,s.jsx)(P.Wk,{children:M.images.map((e,t)=>(0,s.jsx)(P.A7,{children:(0,s.jsx)("div",{className:"aspect-[4/5] relative bg-secondary rounded-lg overflow-hidden",children:(0,s.jsx)(E.default,{src:e,alt:"".concat(M.name," image ").concat(t+1),fill:!0,className:"object-cover"})})},t))}),M.images.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P.Q8,{className:"absolute left-4 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,s.jsx)(P.Oj,{className:"absolute right-4 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"text-2xl font-semibold text-primary",children:["₹",M.price.toFixed(2)]}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:M.description}),(0,s.jsx)(z.w,{}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold",children:"Colors"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(null==(e=M.colors)?void 0:e.join(", "))||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold",children:"Sizes"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(null==(t=M.sizes)?void 0:t.join(", "))||"N/A"})]})]})]})]})})]})}function I(){return(0,s.jsx)(L,{})}},54165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>m,Es:()=>p,L3:()=>h,c7:()=>f,lG:()=>o,rr:()=>x,zM:()=>d});var s=a(95155),r=a(12115),l=a(45821),i=a(25318),n=a(59434);let o=l.bL,d=l.l9,c=l.ZL;l.bm;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=l.hJ.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});h.displayName=l.hE.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});x.displayName=l.VY.displayName},56104:(e,t,a)=>{"use strict";let s;a.d(t,{IG:()=>f,OO:()=>p,j2:()=>m});var r=a(23915),l=a(93004),i=a(90858),n=a(81115),o=a(49509);let d={apiKey:"AIzaSyCTdO0dfAN6jOW1tj-AQM4vSP7o6LVkdUg",authDomain:"acoof-8e92d.firebaseapp.com",projectId:"acoof-8e92d",storageBucket:"acoof-8e92d.firebasestorage.app",messagingSenderId:"791754268594",appId:"1:791754268594:web:51afb7e216efd2c44b8eab",databaseURL:"https://acoof-8e92d-default-rtdb.firebaseio.com"},c=o.env.FIREBASE_CONFIG?JSON.parse(o.env.FIREBASE_CONFIG):null;s=d.apiKey?d:c;let u=null,m=null,f=null,p=null;if(s&&s.apiKey)try{u=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)(s),m=(0,l.xI)(u),f=(0,i.c7)(u),p=(0,n.C3)(u)}catch(e){console.error("Failed to initialize Firebase client SDK.",e)}else console.warn("Firebase configuration is missing or incomplete. Firebase client-side features will be disabled. If you are running locally, please create a .env.local file with your Firebase project's NEXT_PUBLIC_ credentials.")},59409:(e,t,a)=>{"use strict";a.d(t,{bq:()=>m,eb:()=>x,gC:()=>h,l6:()=>c,yv:()=>u});var s=a(95155),r=a(12115),l=a(43433),i=a(79556),n=a(77381),o=a(10518),d=a(59434);let c=l.bL;l.YJ;let u=l.WT,m=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(l.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,s.jsx)(l.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,position:i="popper",...n}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsxs)(l.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,s.jsx)(f,{}),(0,s.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});h.displayName=l.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=l.JU.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(l.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(l.p4,{children:r})]})});x.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=l.wv.displayName},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(52596),r=a(39688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155),r=a(12115),l=a(59434);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},62640:(e,t,a)=>{"use strict";a.d(t,{ProductsProvider:()=>c,Q:()=>u});var s=a(95155),r=a(12115),l=a(56104),i=a(81115),n=a(90858),o=a(93473);let d=(0,r.createContext)(void 0),c=e=>{let{children:t}=e,[a,c]=(0,r.useState)([]),[u,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!l.OO){console.warn("Firebase not configured, using local fallback products."),c(o.ZE),m(!1);return}m(!0);let e=(0,i.KR)(l.OO,"products"),t=(0,i.Zy)(e,e=>{try{if(e.exists()){let t=e.val();if(t&&Object.keys(t).length>0){let e=Object.keys(t).map(e=>{var a;let s=t[e];return s&&"string"==typeof s.name&&"number"==typeof s.price&&Array.isArray(s.images)?{id:e,name:s.name,description:s.description||"",price:s.price,category:s.category||"Tshirts",images:s.images.length>0?s.images:["https://placehold.co/600x800.png"],isNew:null!=(a=s.isNew)&&a,colors:s.colors||[],sizes:s.sizes||[]}:(console.warn("Skipping malformed product with key: ".concat(e),s),null)}).filter(e=>null!==e).reverse();c(e)}else console.log("Firebase 'products' node is empty, loading local fallback data."),c(o.ZE)}else console.log("No products found in Firebase, loading local fallback data."),c(o.ZE)}catch(e){console.error("Error processing products snapshot, using local fallback. Error:",e),c(o.ZE)}finally{m(!1)}},e=>{console.error("Firebase read failed with onValue, using local fallback. Error:",e),c(o.ZE),m(!1)});return()=>{t()}},[]);let f=(0,r.useCallback)(async e=>{if(!l.OO||!l.IG)throw Error("Firebase not configured.");if(a===o.ZE)return void console.warn("Cannot remove product, running on local data.");let t=(0,i.KR)(l.OO,"products/".concat(e.id));await (0,i.TF)(t);let s=e.images.filter(e=>e.includes("firebasestorage.googleapis.com")).map(e=>{try{let t=(0,n.KR)(l.IG,e);return(0,n.XR)(t)}catch(t){return console.error("Error creating ref for image ".concat(e,". It might not be a valid storage URL."),t),Promise.resolve()}});await Promise.all(s)},[a]),p=(0,r.useCallback)(async(e,t)=>{if(!l.OO)throw Error("Firebase not configured.");if(a===o.ZE)return void console.warn("Cannot update product, running on local data.");let s=(0,i.KR)(l.OO,"products/".concat(e));await (0,i.yo)(s,t)},[a]);return(0,s.jsx)(d.Provider,{value:{products:a,loading:u,removeProduct:f,updateProduct:p},children:t})},u=()=>{let e=(0,r.useContext)(d);if(void 0===e)throw Error("useProducts must be used within a ProductsProvider");return e}},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>n,wL:()=>u});var s=a(95155),r=a(12115),l=a(59434);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},85127:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>o,Hj:()=>d,XI:()=>i,nA:()=>u,nd:()=>c});var s=a(95155),r=a(12115),l=a(59434);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...r})})});i.displayName="Table";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...r})});n.displayName="TableHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...r})});o.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});d.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});c.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},91091:(e,t,a)=>{"use strict";a.d(t,{A7:()=>p,FN:()=>m,Oj:()=>x,Q8:()=>h,Wk:()=>f});var s=a(95155),r=a(12115),l=a(85005),i=a(12543),n=a(19968),o=a(59434),d=a(30285);let c=r.createContext(null);function u(){let e=r.useContext(c);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let m=r.forwardRef((e,t)=>{let{orientation:a="horizontal",opts:i,setApi:n,plugins:d,className:u,children:m,...f}=e,[p,h]=(0,l.A)({...i,axis:"horizontal"===a?"x":"y"},d),[x,g]=r.useState(!1),[y,j]=r.useState(!1),b=r.useCallback(e=>{e&&(g(e.canScrollPrev()),j(e.canScrollNext()))},[]),N=r.useCallback(()=>{null==h||h.scrollPrev()},[h]),v=r.useCallback(()=>{null==h||h.scrollNext()},[h]),w=r.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),N()):"ArrowRight"===e.key&&(e.preventDefault(),v())},[N,v]);return r.useEffect(()=>{h&&n&&n(h)},[h,n]),r.useEffect(()=>{if(h)return b(h),h.on("reInit",b),h.on("select",b),()=>{null==h||h.off("select",b)}},[h,b]),(0,s.jsx)(c.Provider,{value:{carouselRef:p,api:h,opts:i,orientation:a||((null==i?void 0:i.axis)==="y"?"vertical":"horizontal"),scrollPrev:N,scrollNext:v,canScrollPrev:x,canScrollNext:y},children:(0,s.jsx)("div",{ref:t,onKeyDownCapture:w,className:(0,o.cn)("relative",u),role:"region","aria-roledescription":"carousel",...f,children:m})})});m.displayName="Carousel";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e,{carouselRef:l,orientation:i}=u();return(0,s.jsx)("div",{ref:l,className:"overflow-hidden",children:(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex","horizontal"===i?"-ml-4":"-mt-4 flex-col",a),...r})})});f.displayName="CarouselContent";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e,{orientation:l}=u();return(0,s.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,o.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===l?"pl-4":"pt-4",a),...r})});p.displayName="CarouselItem";let h=r.forwardRef((e,t)=>{let{className:a,variant:r="outline",size:l="icon",...n}=e,{orientation:c,scrollPrev:m,canScrollPrev:f}=u();return(0,s.jsxs)(d.$,{ref:t,variant:r,size:l,className:(0,o.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!f,onClick:m,...n,children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});h.displayName="CarouselPrevious";let x=r.forwardRef((e,t)=>{let{className:a,variant:r="outline",size:l="icon",...i}=e,{orientation:c,scrollNext:m,canScrollNext:f}=u();return(0,s.jsxs)(d.$,{ref:t,variant:r,size:l,className:(0,o.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!f,onClick:m,...i,children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Next slide"})]})});x.displayName="CarouselNext"},93473:(e,t,a)=>{"use strict";a.d(t,{BX:()=>l,LZ:()=>r,ZE:()=>s,ap:()=>i});let s=[{id:"1",name:"Classic White Tee",description:"A timeless staple for any wardrobe, made from 100% premium cotton.",price:25,category:"Tshirts",images:["https://placehold.co/600x800.png"],isNew:!0,colors:["White","Black","Gray"],sizes:["S","M","L","XL","XXL"]},{id:"2",name:"Slim-Fit Denim Jeans",description:"Modern slim-fit jeans in a versatile dark wash.",price:75,category:"Jeans",images:["https://placehold.co/600x800.png"],isNew:!0,colors:["Dark Wash","Light Wash","Black"],sizes:["30","32","34","36"]},{id:"3",name:"Leather Derby Shoes",description:"Classic derby shoes crafted from genuine leather, perfect for any occasion.",price:120,category:"Shoes",images:["https://placehold.co/600x800.png"],isNew:!0,colors:["Black","Brown"],sizes:["9","10","11","12"]},{id:"4",name:"Urban Graphic Hoodie",description:"Comfortable cotton hoodie with a bold back print.",price:65,category:"Shirts",images:["https://placehold.co/600x800.png"],isNew:!1,colors:["Black","Heather Gray","Navy"],sizes:["S","M","L","XL","XXL"]},{id:"5",name:"Cargo Trousers",description:"Utilitarian cargo pants with multiple pockets for functionality.",price:80,category:"Trousers",images:["https://placehold.co/600x800.png"],isNew:!1,colors:["Khaki","Olive","Black"],sizes:["S","M","L","XL","XXL"]},{id:"6",name:"Minimalist Sneakers",description:"Clean and simple sneakers that pair with everything.",price:90,category:"Shoes",images:["https://placehold.co/600x800.png"],isNew:!1,colors:["White","Black","Cream"],sizes:["8","9","10","11","12","13"]},{id:"7",name:"Linen Button-Up Shirt",description:"A breezy linen shirt, ideal for warmer weather.",price:55,category:"Shirts",images:["https://placehold.co/600x800.png"],isNew:!1,colors:["Beige","White","Light Blue"],sizes:["S","M","L","XL","XXL"]},{id:"8",name:"Canvas Tote Bag",description:"A durable and stylish canvas tote for your daily essentials.",price:40,category:"Bags",images:["https://placehold.co/600x600.png"],isNew:!0,colors:["Natural","Black"],sizes:["One Size"]}],r=["Shirts","Tshirts","Oversized T-shirt","Pants","Jeans","Trousers","Shoes","Bags","Belts","Socks","Wallets","Sweater","Sweatshirt","Jackets","Track pants"],l=["S","M","L","XL","XXL"],i=["28","30","32","34","36"]},98030:(e,t,a)=>{"use strict";a.d(t,{A:()=>m,AuthProvider:()=>u});var s=a(95155),r=a(12115),l=a(93004),i=a(56104),n=a(35695),o=a(81115);let d=(0,r.createContext)(void 0),c=Error("Firebase is not configured. Please add your Firebase credentials to the .env file."),u=e=>{let{children:t}=e,[a,u]=(0,r.useState)(null),[m,f]=(0,r.useState)(!0),p=(0,n.useRouter)();(0,r.useEffect)(()=>{if(!i.j2)return void f(!1);let e=(0,l.hg)(i.j2,async e=>{if(e){if(!i.OO){u(e),f(!1);return}let t=(0,o.KR)(i.OO,"users/".concat(e.uid));try{let a=await (0,o.Jt)(t);if(a.exists()){let t=a.val();Object.assign(e,t)}else{let a={email:e.email,displayName:e.displayName};await (0,o.hZ)(t,a),Object.assign(e,a)}u(e)}catch(t){u(e)}}else u(null);f(!1)});return()=>e()},[]);let h=async(e,t)=>{if(!i.j2)throw c;return(0,l.x9)(i.j2,e,t)},x=async(e,t,a,s)=>{if(!i.j2||!i.OO)throw c;try{let r=await (0,l.eJ)(i.j2,e,t);if(r.user)try{let e="".concat(a," ").concat(s);await (0,l.r7)(r.user,{displayName:e});let t=(0,o.KR)(i.OO,"users/".concat(r.user.uid));await (0,o.hZ)(t,{email:r.user.email,displayName:e})}catch(e){console.error("Database error during sign up:",e)}return r}catch(e){throw e}},g=async e=>{let t=null===i.j2||void 0===i.j2?void 0:i.j2.currentUser;if(!i.j2||!t||!i.OO)throw Error("Firebase not configured or user not logged in.");try{let a=[];e.displayName&&e.displayName!==t.displayName&&a.push((0,l.r7)(t,{displayName:e.displayName})),e.email&&e.email!==t.email&&a.push((0,l.Ww)(t,e.email)),a.length>0&&await Promise.all(a);let s=(0,o.KR)(i.OO,"users/".concat(t.uid)),r={};e.displayName&&(r.displayName=e.displayName),e.email&&(r.email=e.email),void 0!==e.phone&&(r.phone=e.phone),void 0!==e.address&&(r.address=e.address),void 0!==e.city&&(r.city=e.city),void 0!==e.state&&(r.state=e.state),void 0!==e.pincode&&(r.pincode=e.pincode),Object.keys(r).length>0&&await (0,o.yo)(s,r),await t.reload();let n=i.j2.currentUser;if(n){let e=await (0,o.Jt)(s),t=e.exists()?e.val():{};Object.assign(n,t),u(n)}else u(null)}catch(e){var a;if("PERMISSION_DENIED"===e.code||(null==(a=e.message)?void 0:a.includes("permission_denied")))throw Error("Permission Denied: Please check your Firebase Realtime Database security rules to allow users to read/write their own profile data.");if("auth/requires-recent-login"===e.code)throw Error("This action is sensitive and requires recent authentication. Please log out and log back in to update your email.");throw e}},y=async()=>{if(i.j2)try{await (0,l.CI)(i.j2),p.push("/login")}catch(e){console.error("Error signing out",e)}},j=async()=>{let e=null===i.j2||void 0===i.j2?void 0:i.j2.currentUser;if(!i.j2||!e||!i.OO)throw Error("Firebase not configured or user not logged in.");try{let t=(0,o.KR)(i.OO,"users/".concat(e.uid));await (0,o.TF)(t),await (0,l.hG)(e),u(null),p.push("/")}catch(e){if(console.error("Error deleting account:",e),"auth/requires-recent-login"===e.code)throw Error("This action is sensitive and requires recent authentication. Please log out and log back in before deleting your account.");throw Error("An unexpected error occurred while deleting your account.")}};return(0,s.jsx)(d.Provider,{value:{user:a,loading:m,loginWithEmail:h,signupWithEmail:x,logout:y,updateUserProfile:g,deleteAccount:j},children:t})},m=()=>{let e=(0,r.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[507,644,889,277,506,821,418,382,458,202,441,964,358],()=>e(e.s=18844)),_N_E=e.O()}]);