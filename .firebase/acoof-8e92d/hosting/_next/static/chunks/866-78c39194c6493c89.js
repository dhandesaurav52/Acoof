"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[866],{30285:(e,t,r)=>{r.d(t,{$:()=>d,r:()=>l});var a=r(95155),i=r(12115),o=r(66634),s=r(74466),n=r(59434);let l=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:r,variant:i,size:s,asChild:d=!1,...c}=e,u=d?o.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(l({variant:i,size:s,className:r})),ref:t,...c})});d.displayName="Button"},56104:(e,t,r)=>{let a;r.d(t,{IG:()=>h,OO:()=>p,j2:()=>f});var i=r(23915),o=r(93004),s=r(90858),n=r(81115),l=r(49509);let d={apiKey:"AIzaSyCTdO0dfAN6jOW1tj-AQM4vSP7o6LVkdUg",authDomain:"acoof-8e92d.firebaseapp.com",projectId:"acoof-8e92d",storageBucket:"acoof-8e92d.firebasestorage.app",messagingSenderId:"791754268594",appId:"1:791754268594:web:51afb7e216efd2c44b8eab",databaseURL:"https://acoof-8e92d-default-rtdb.firebaseio.com"},c=l.env.FIREBASE_CONFIG?JSON.parse(l.env.FIREBASE_CONFIG):null;a=d.apiKey?d:c;let u=null,f=null,h=null,p=null;if(a&&a.apiKey)try{u=(0,i.Dk)().length?(0,i.Sx)():(0,i.Wp)(a),f=(0,o.xI)(u),h=(0,s.c7)(u),p=(0,n.C3)(u)}catch(e){console.error("Failed to initialize Firebase client SDK.",e)}else console.warn("Firebase configuration is missing or incomplete. Firebase client-side features will be disabled. If you are running locally, please create a .env.local file with your Firebase project's NEXT_PUBLIC_ credentials.")},59434:(e,t,r)=>{r.d(t,{cn:()=>o});var a=r(52596),i=r(39688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,a.$)(t))}},87481:(e,t,r)=>{r.d(t,{dj:()=>u});var a=r(12115);let i=0,o=new Map,s=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},n=[],l={toasts:[]};function d(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),n.forEach(e=>{e(l)})}function c(e){let{...t}=e,r=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=a.useState(l);return a.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},89342:(e,t,r)=>{r.d(t,{CartProvider:()=>l,_:()=>d});var a=r(95155),i=r(12115),o=r(87481),s=r(98030);let n=(0,i.createContext)(void 0),l=e=>{let{children:t}=e,{toast:r}=(0,o.dj)(),[l,d]=(0,i.useState)([]),[c,u]=(0,i.useState)(!0),{user:f,loading:h}=(0,s.A)(),p=(0,i.useCallback)(e=>e?"acoof-cart-".concat(e.uid):"acoof-cart-guest",[]);(0,i.useEffect)(()=>{if(h)return;let e=p(f);try{if(f){let t="acoof-cart-guest",a=localStorage.getItem(t),i=a?JSON.parse(a):[],o=localStorage.getItem(e),s=o?JSON.parse(o):[];if(i.length>0){let a=[...s];i.forEach(e=>{let t=a.findIndex(t=>t.id===e.id);t>-1?a[t].quantity+=e.quantity:a.push(e)}),d(a),localStorage.setItem(e,JSON.stringify(a)),localStorage.removeItem(t),r({title:"Cart Merged",description:"Your guest cart items have been added to your account."})}else d(s)}else{let t=localStorage.getItem(e),r=t?JSON.parse(t):[];d(r)}}catch(e){console.error("Failed to process cart from localStorage",e),d([])}finally{u(!1)}},[f,h,p,r]),(0,i.useEffect)(()=>{if(!c&&!h){let e=p(f);localStorage.setItem(e,JSON.stringify(l))}},[l,f,c,h,p]);let g=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;d(r=>r.find(t=>t.id===e.id)?r.map(r=>r.id===e.id?{...r,quantity:r.quantity+t}:r):[...r,{...e,quantity:1,selectedSize:a,selectedColor:i}]),r({title:"Added to Cart",description:"".concat(e.name," has been added to your cart.")})},[r]),m=(0,i.useCallback)(e=>{let t=l.find(t=>t.id===e);d(t=>t.filter(t=>t.id!==e)),t&&r({title:"Removed from Cart",description:"".concat(t.name," has been removed from your cart.")})},[l,r]),y=(0,i.useCallback)((e,t)=>{t<=0?m(e):d(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},[m]),v=(0,i.useCallback)(()=>{d([]),r({title:"Cart Cleared",description:"All items have been removed from your cart."})},[r]),b=(0,i.useMemo)(()=>l.reduce((e,t)=>e+t.quantity,0),[l]),S=(0,i.useMemo)(()=>l.reduce((e,t)=>e+t.price*t.quantity,0),[l]);return(0,a.jsx)(n.Provider,{value:{cart:l,addToCart:g,removeFromCart:m,updateQuantity:y,clearCart:v,cartCount:b,cartTotal:S,loading:c||h},children:t})},d=()=>{let e=(0,i.useContext)(n);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},98030:(e,t,r)=>{r.d(t,{A:()=>f,AuthProvider:()=>u});var a=r(95155),i=r(12115),o=r(93004),s=r(56104),n=r(35695),l=r(81115);let d=(0,i.createContext)(void 0),c=Error("Firebase is not configured. Please add your Firebase credentials to the .env file."),u=e=>{let{children:t}=e,[r,u]=(0,i.useState)(null),[f,h]=(0,i.useState)(!0),p=(0,n.useRouter)();(0,i.useEffect)(()=>{if(!s.j2)return void h(!1);let e=(0,o.hg)(s.j2,async e=>{if(e){if(!s.OO){u(e),h(!1);return}let t=(0,l.KR)(s.OO,"users/".concat(e.uid));try{let r=await (0,l.Jt)(t);if(r.exists()){let t=r.val();Object.assign(e,t)}else{let r={email:e.email,displayName:e.displayName};await (0,l.hZ)(t,r),Object.assign(e,r)}u(e)}catch(t){u(e)}}else u(null);h(!1)});return()=>e()},[]);let g=async(e,t)=>{if(!s.j2)throw c;return(0,o.x9)(s.j2,e,t)},m=async(e,t,r,a)=>{if(!s.j2||!s.OO)throw c;try{let i=await (0,o.eJ)(s.j2,e,t);if(i.user)try{let e="".concat(r," ").concat(a);await (0,o.r7)(i.user,{displayName:e});let t=(0,l.KR)(s.OO,"users/".concat(i.user.uid));await (0,l.hZ)(t,{email:i.user.email,displayName:e})}catch(e){console.error("Database error during sign up:",e)}return i}catch(e){throw e}},y=async e=>{let t=null===s.j2||void 0===s.j2?void 0:s.j2.currentUser;if(!s.j2||!t||!s.OO)throw Error("Firebase not configured or user not logged in.");try{let r=[];e.displayName&&e.displayName!==t.displayName&&r.push((0,o.r7)(t,{displayName:e.displayName})),e.email&&e.email!==t.email&&r.push((0,o.Ww)(t,e.email)),r.length>0&&await Promise.all(r);let a=(0,l.KR)(s.OO,"users/".concat(t.uid)),i={};e.displayName&&(i.displayName=e.displayName),e.email&&(i.email=e.email),void 0!==e.phone&&(i.phone=e.phone),void 0!==e.address&&(i.address=e.address),void 0!==e.city&&(i.city=e.city),void 0!==e.state&&(i.state=e.state),void 0!==e.pincode&&(i.pincode=e.pincode),Object.keys(i).length>0&&await (0,l.yo)(a,i),await t.reload();let n=s.j2.currentUser;if(n){let e=await (0,l.Jt)(a),t=e.exists()?e.val():{};Object.assign(n,t),u(n)}else u(null)}catch(e){var r;if("PERMISSION_DENIED"===e.code||(null==(r=e.message)?void 0:r.includes("permission_denied")))throw Error("Permission Denied: Please check your Firebase Realtime Database security rules to allow users to read/write their own profile data.");if("auth/requires-recent-login"===e.code)throw Error("This action is sensitive and requires recent authentication. Please log out and log back in to update your email.");throw e}},v=async()=>{if(s.j2)try{await (0,o.CI)(s.j2),p.push("/login")}catch(e){console.error("Error signing out",e)}},b=async()=>{let e=null===s.j2||void 0===s.j2?void 0:s.j2.currentUser;if(!s.j2||!e||!s.OO)throw Error("Firebase not configured or user not logged in.");try{let t=(0,l.KR)(s.OO,"users/".concat(e.uid));await (0,l.TF)(t),await (0,o.hG)(e),u(null),p.push("/")}catch(e){if(console.error("Error deleting account:",e),"auth/requires-recent-login"===e.code)throw Error("This action is sensitive and requires recent authentication. Please log out and log back in before deleting your account.");throw Error("An unexpected error occurred while deleting your account.")}};return(0,a.jsx)(d.Provider,{value:{user:r,loading:f,loginWithEmail:g,signupWithEmail:m,logout:v,updateUserProfile:y,deleteAccount:b},children:t})},f=()=>{let e=(0,i.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);